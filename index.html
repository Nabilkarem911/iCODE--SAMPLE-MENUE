<!DOCTYPE html>
<html lang="ar" dir="rtl" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-menu | منصة إدارة القوائم الرقمية</title>
    
    <meta name="description" content="منصة إدارة القوائم الرقمية للمطاعم والكافيهات - نظام طلبات واتساب ذكي + QR Code ديناميكي + تحليلات كاملة">
    <meta name="keywords" content="منيو رقمي, QR menu, قائمة طعام إلكترونية, نظام طلبات واتساب, مطاعم, كافيهات">
    <meta property="og:title" content="AI-menu - منصة القوائم الرقمية">
    <meta property="og:description" content="نظام شامل للمطاعم والكافيهات: QR + واتساب + تحليلات">
    <meta property="og:image" content="https://yourdomain.com/og-image.jpg"> <meta name="twitter:card" content="summary_large_image">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7', /* لون أزرق سماوي عصري */
                            900: '#0c4a6e',
                        },
                        dark: {
                            bg: '#050507',
                            card: '#0F1115',
                            border: '#1E2128'
                        }
                    },
                    fontFamily: {
                        tajawal: ['Tajawal', 'sans-serif'],
                    },
                    animation: {
                        'pulse-glow': 'pulse-glow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'scroll': 'scroll 20s linear infinite',
                    },
                    keyframes: {
                        'pulse-glow': {
                            '0%, 100%': { opacity: 0.5, transform: 'scale(1)' },
                            '50%': { opacity: 0.8, transform: 'scale(1.05)' },
                        },
                        'float': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        'scroll': {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-100%)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        body { font-family: 'Tajawal', sans-serif; overflow-x: hidden; }
        
        /* Grid Background Effect */
        .grid-bg {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }

        /* Modern Cards (Bento Style) */
        .bento-card {
            background: rgba(15, 17, 21, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }
        .bento-card:hover {
            border-color: rgba(14, 165, 233, 0.4);
            transform: translateY(-5px);
            box-shadow: 0 10px 40px -10px rgba(14, 165, 233, 0.15);
        }

        /* Gradient Text */
        .text-gradient {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050507; }
        ::-webkit-scrollbar-thumb { background: #1E2128; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #38bdf8; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 dark:bg-dark-bg dark:text-white transition-colors duration-300">

    <div class="fixed inset-0 z-0 pointer-events-none">
        <div class="absolute inset-0 grid-bg opacity-50"></div>
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-brand-500/10 rounded-full blur-[120px] animate-pulse-glow"></div>
    </div>

    <nav class="fixed w-full z-50 top-0 border-b border-black/5 dark:border-white/5 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md transition-all duration-300">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-brand-500 to-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-500/20">
                    <i class="fa-solid fa-layer-group text-xl"></i>
                </div>
                <span class="text-2xl font-black tracking-tight">AI-menu</span>
            </div>

            <div class="hidden md:flex items-center gap-8 text-sm font-bold text-gray-500 dark:text-gray-400">
                <a href="#hero" class="hover:text-brand-500 transition" data-i18n="nav_home">الرئيسية</a>
                <a href="#features" class="hover:text-brand-500 transition" data-i18n="nav_features">الحلول والمميزات</a>
                <a href="#pricing" class="hover:text-brand-500 transition" data-i18n="nav_pricing">خطط الأسعار</a>
            </div>

            <div class="flex items-center gap-3">
                <button onclick="toggleTheme()" class="w-10 h-10 rounded-xl bg-gray-100 dark:bg-white/5 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-white/10 transition text-gray-600 dark:text-yellow-400">
                    <i id="theme-icon" class="fa-solid fa-moon"></i>
                </button>
                <button onclick="toggleLang()" class="w-10 h-10 rounded-xl bg-gray-100 dark:bg-white/5 flex items-center justify-center font-bold text-xs hover:bg-gray-200 dark:hover:bg-white/10 transition">EN</button>
                <button onclick="openLoginModal()" class="px-6 py-2.5 rounded-xl border border-gray-200 dark:border-white/10 font-bold text-sm hover:bg-gray-100 dark:hover:bg-white/5 transition" data-i18n="btn_login">دخول</button>
                <button onclick="openRegisterModal()" class="px-6 py-2.5 rounded-xl bg-brand-600 hover:bg-brand-500 text-white font-bold text-sm shadow-lg shadow-brand-500/25 transition hidden md:block" data-i18n="btn_start">ابدأ مجاناً</button>
            </div>
        </div>
    </nav>

    <section id="hero" class="relative z-10 pt-40 pb-20 px-6 overflow-hidden">
        <div class="max-w-6xl mx-auto text-center">
            
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-brand-500/10 border border-brand-500/20 text-brand-500 text-xs font-bold mb-8 animate-float">
                <span class="w-2 h-2 bg-brand-500 rounded-full animate-pulse"></span>
                <span data-i18n="hero_badge">تكنولوجيا 2026 للأعمال الذكية</span>
            </div>

            <h1 class="text-5xl md:text-8xl font-black mb-8 leading-tight">
                <span data-i18n="hero_t1">انقل مشروعك للمستقبل</span> <br>
                <span class="text-gradient" data-i18n="hero_t2">بأدوات إدارة متكاملة</span>
            </h1>

            <p class="text-lg md:text-xl text-gray-500 dark:text-gray-400 mb-12 max-w-3xl mx-auto leading-relaxed" data-i18n="hero_desc">
                نظام سحابي شامل لا يقتصر على المطاعم فقط. سواء كنت تدير كافيهاً، فندقاً، صالون تجميل، أو متجراً للخدمات. نحن نقدم لك الواجهة الرقمية (QR)، نظام الطلبات، والتقارير في منصة واحدة سهلة الاستخدام.
            </p>

            <div class="flex flex-col md:flex-row gap-5 justify-center items-center">
                <button onclick="openRegisterModal()" class="w-full md:w-auto px-10 py-4 rounded-2xl bg-white text-gray-900 font-black text-lg hover:scale-105 transition shadow-xl" data-i18n="btn_try_free">
                    جرب المنصة مجاناً
                </button>
                <a href="#features" class="w-full md:w-auto px-10 py-4 rounded-2xl border border-gray-200 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-white/5 font-bold text-lg transition flex items-center justify-center gap-3">
                    <i class="fa-regular fa-circle-play"></i> <span data-i18n="btn_demo">جولة في النظام</span>
                </a>
            </div>

            <div class="mt-24 relative max-w-5xl mx-auto h-[400px] md:h-[500px] bento-card rounded-t-3xl border-b-0 overflow-hidden group">
                <div class="h-16 border-b border-white/5 flex items-center px-6 gap-4">
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
                    </div>
                    <div class="h-8 w-64 bg-white/5 rounded-lg ml-auto"></div>
                </div>
                <div class="p-8 grid grid-cols-4 gap-6 h-full opacity-60 group-hover:opacity-100 transition duration-700">
                    <div class="col-span-1 bg-white/5 rounded-2xl h-full animate-pulse"></div>
                    <div class="col-span-3 grid grid-rows-3 gap-6">
                        <div class="grid grid-cols-3 gap-6 row-span-1">
                            <div class="bg-brand-500/20 rounded-2xl border border-brand-500/20"></div>
                            <div class="bg-purple-500/20 rounded-2xl border border-purple-500/20"></div>
                            <div class="bg-orange-500/20 rounded-2xl border border-orange-500/20"></div>
                        </div>
                        <div class="bg-white/5 rounded-2xl row-span-2 border border-white/5 relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent"></div>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 flex items-center justify-center bg-dark-bg/60 backdrop-blur-sm group-hover:backdrop-blur-none group-hover:bg-transparent transition duration-700">
                    <span class="text-xl font-bold border border-white/20 bg-black/50 px-6 py-2 rounded-full backdrop-blur-md group-hover:opacity-0 transition">لوحة تحكم تفاعلية متكاملة</span>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="py-24 px-6 bg-white dark:bg-[#080a0f] relative z-10">
        <div class="max-w-7xl mx-auto">
            <div class="mb-20 max-w-3xl">
                <h2 class="text-4xl font-black mb-6 text-gray-900 dark:text-white" data-i18n="feat_head">صمم ليدعم نمو أعمالك</h2>
                <p class="text-lg text-gray-500 leading-relaxed" data-i18n="feat_sub">
                    نحن لا نقدم مجرد "منيو إلكتروني". نحن نقدم نظام تشغيل متكامل يغنيك عن المبرمجين والمصممين، ويعطيك الأدوات التي تستخدمها الشركات الكبرى بأسعار تنافسية.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="md:col-span-2 bento-card p-10 rounded-3xl relative overflow-hidden group">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-brand-500/10 rounded-full blur-[80px]"></div>
                    <div class="relative z-10">
                        <div class="w-16 h-16 bg-brand-500/20 rounded-2xl flex items-center justify-center text-brand-500 text-3xl mb-6">
                            <i class="fa-solid fa-wand-magic-sparkles"></i>
                        </div>
                        <h3 class="text-2xl font-bold mb-4 text-white" data-i18n="f1_title">هوية بصرية لا مثيل لها</h3>
                        <p class="text-gray-400 leading-relaxed max-w-lg" data-i18n="f1_desc">
                            لا تقبل بالقوالب الجاهزة المملة. نظامنا يتيح لك تخصيص كل بكسل في المنيو الخاص بك. اختر الألوان التي تطابق علامتك التجارية، ارفع شعارك، وتحكم في طريقة عرض المنتجات لتخلق انطباعاً لا ينسى لدى عملائك.
                        </p>
                    </div>
                </div>

                <div class="md:row-span-2 bento-card p-10 rounded-3xl relative overflow-hidden">
                    <div class="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-green-500/10 to-transparent"></div>
                    <div class="w-16 h-16 bg-green-500/20 rounded-2xl flex items-center justify-center text-green-500 text-3xl mb-6">
                        <i class="fa-brands fa-whatsapp"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 text-white" data-i18n="f2_title">نظام طلبات واتساب الذكي</h3>
                    <p class="text-gray-400 leading-relaxed mb-8" data-i18n="f2_desc">
                        حول المحادثات إلى مبيعات. العميل يختار طلباته من المنيو، والنظام يقوم بصياغة رسالة واتساب مفصلة (بالكميات والأسعار والمجموع) ويرسلها لرقمك فوراً. لا أخطاء في الطلبات بعد اليوم.
                    </p>
                    <div class="bg-white/5 p-4 rounded-xl border border-white/5 text-xs text-gray-300 font-mono">
                        طلب جديد: <br>
                        - 2x برجر لحم (90 ر.س)<br>
                        - 1x بيبسي (5 ر.س)<br>
                        الإجمالي: 95 ر.س ✅
                    </div>
                </div>

                <div class="bento-card p-10 rounded-3xl">
                    <div class="w-16 h-16 bg-purple-500/20 rounded-2xl flex items-center justify-center text-purple-500 text-3xl mb-6">
                        <i class="fa-solid fa-qrcode"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 text-white" data-i18n="f3_title">QR Code ديناميكي</h3>
                    <p class="text-gray-400 leading-relaxed" data-i18n="f3_desc">
                        اطبع الباركود مرة واحدة، وغير محتوى المنيو ألف مرة. لا داعي لإعادة الطباعة عند تغيير الأسعار أو إضافة منتجات جديدة.
                    </p>
                </div>

                <div class="bento-card p-10 rounded-3xl">
                    <div class="w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center text-orange-500 text-3xl mb-6">
                        <i class="fa-solid fa-chart-pie"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 text-white" data-i18n="f4_title">تحليلات الأداء</h3>
                    <p class="text-gray-400 leading-relaxed" data-i18n="f4_desc">
                        اتخذ قرارات مبنية على بيانات. اعرف عدد الزوار اليومي، المنتجات الأكثر مشاهدة، وراقب نمو مشروعك من لوحة تحكم واحدة.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing" class="py-24 px-6 relative z-10">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-black mb-4 text-gray-900 dark:text-white" data-i18n="pricing_head">استثمار ذكي لمشروعك</h2>
                <p class="text-gray-500 dark:text-gray-400" data-i18n="pricing_sub">شفافية تامة. لا رسوم خفية. ابدأ مجاناً وادفع عندما تنمو.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto items-center">
                
                <div class="bento-card p-8 rounded-3xl border-l-4 border-gray-500">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-400" data-i18n="plan_free">الباقة المجانية</h3>
                        <i class="fa-solid fa-seedling text-gray-500 text-xl"></i>
                    </div>
                    <div class="mb-6">
                        <span class="text-4xl font-black text-white">0</span> 
                        <span class="text-gray-500 text-sm">ر.س / شهر</span>
                    </div>
                    <p class="text-sm text-gray-400 mb-8 h-10" data-i18n="free_desc">مثالية لتجربة النظام والمشاريع الصغيرة جداً.</p>
                    
                    <ul class="space-y-4 mb-8 text-sm text-gray-300">
                        <li class="flex gap-3"><i class="fa-solid fa-check text-green-500"></i> <span data-i18n="f_5">5 منتجات/خدمات</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-green-500"></i> <span data-i18n="f_baseqr">باركود QR أساسي</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-green-500"></i> <span data-i18n="f_cp">لوحة تحكم كاملة</span></li>
                        <li class="flex gap-3 text-gray-600 line-through"><i class="fa-solid fa-xmark"></i> <span data-i18n="f_color">تخصيص الألوان</span></li>
                    </ul>
                    
                    <button onclick="openRegisterModal()" class="w-full py-4 rounded-xl border border-white/10 hover:bg-white hover:text-black font-bold transition" data-i18n="btn_start_free">إنشاء حساب مجاني</button>
                </div>

                <div class="bento-card p-10 rounded-3xl border-l-4 border-brand-500 bg-brand-900/10 relative transform md:-translate-y-4 shadow-2xl">
                    <div class="absolute top-4 left-4 bg-brand-500 text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider" data-i18n="badge_pop">الأكثر مبيعاً</div>
                    <div class="flex justify-between items-center mb-4 mt-2">
                        <h3 class="text-2xl font-bold text-brand-500" data-i18n="plan_gold">الباقة الذهبية</h3>
                        <i class="fa-solid fa-rocket text-brand-500 text-2xl"></i>
                    </div>
                    <div class="mb-6">
                        <span class="text-5xl font-black text-white">99</span> 
                        <span class="text-gray-400 text-sm">ر.س / شهر</span>
                    </div>
                    <p class="text-sm text-gray-300 mb-8 h-10" data-i18n="gold_desc">الحل الأمثل للمطاعم، الكافيهات، والصالونات النشطة.</p>
                    
                    <ul class="space-y-4 mb-10 text-sm text-white font-medium">
                        <li class="flex gap-3"><i class="fa-solid fa-circle-check text-brand-500"></i> <span data-i18n="f_50">50 منتج/خدمة</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-circle-check text-brand-500"></i> <span data-i18n="f_branding">تخصيص الهوية والألوان</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-circle-check text-brand-500"></i> <span data-i18n="f_wa_ord">استقبال طلبات واتساب</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-circle-check text-brand-500"></i> <span data-i18n="f_supp">دعم فني متميز</span></li>
                    </ul>
                    
                    <a href="https://wa.me/966582084647?text=أرغب في الاشتراك في الباقة الذهبية" target="_blank" class="block w-full py-4 rounded-xl bg-brand-600 hover:bg-brand-500 text-white font-bold text-center transition shadow-lg shadow-brand-500/25" data-i18n="btn_sub_now">اشترك الآن</a>
                </div>

                <div class="bento-card p-8 rounded-3xl border-l-4 border-purple-500">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-purple-400" data-i18n="plan_vip">باقة المؤسسات</h3>
                        <i class="fa-solid fa-crown text-purple-500 text-xl"></i>
                    </div>
                    <div class="mb-6">
                        <span class="text-4xl font-black text-white">199</span> 
                        <span class="text-gray-500 text-sm">ر.س / شهر</span>
                    </div>
                    <p class="text-sm text-gray-400 mb-8 h-10" data-i18n="vip_desc">للسلاسل التجارية والفنادق والأنشطة الكبرى.</p>
                    
                    <ul class="space-y-4 mb-8 text-sm text-gray-300">
                        <li class="flex gap-3"><i class="fa-solid fa-check text-purple-500"></i> <span data-i18n="f_inf">منتجات غير محدودة</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-purple-500"></i> <span data-i18n="f_dom">نطاق خاص (Domain)</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-purple-500"></i> <span data-i18n="f_rem">إزالة شعار النظام</span></li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-purple-500"></i> <span data-i18n="f_man">مدير حساب خاص</span></li>
                    </ul>
                    
                    <a href="https://wa.me/966582084647?text=استفسار عن باقة المؤسسات" target="_blank" class="block w-full py-4 rounded-xl border border-white/10 hover:bg-white hover:text-black font-bold text-center transition" data-i18n="btn_contact">تواصل معنا</a>
                </div>

            </div>
        </div>
    </section>

    <footer class="py-12 border-t border-white/5 bg-[#030304] relative z-10">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-10 mb-10">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-brand-500 rounded-lg flex items-center justify-center text-white"><i class="fa-solid fa-layer-group"></i></div>
                    <span class="text-xl font-bold text-white">AI-menu</span>
                </div>
                <p class="text-gray-500 text-sm leading-relaxed max-w-xs">
                    المنصة العربية الأولى لإدارة القوائم الرقمية وتسهيل عمليات البيع للمشاريع الحديثة.
                </p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">روابط سريعة</h4>
                <ul class="space-y-2 text-sm text-gray-500">
                    <li><a href="#" class="hover:text-brand-500">الرئيسية</a></li>
                    <li><a href="#features" class="hover:text-brand-500">المميزات</a></li>
                    <li><a href="#pricing" class="hover:text-brand-500">الأسعار</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">تواصل معنا</h4>
                <ul class="space-y-2 text-sm text-gray-500">
                    <li><i class="fa-brands fa-whatsapp ml-2"></i> 0582084647</li>
                    <li><i class="fa-solid fa-envelope ml-2"></i> info@ai-menu.com</li>
                </ul>
            </div>
        </div>
        <div class="text-center border-t border-white/5 pt-8 text-gray-600 text-xs">
            © 2026 AI-menu. جميع الحقوق محفوظة.
        </div>
    </footer>

    <div id="login-modal" class="fixed inset-0 bg-black/90 z-[100] hidden items-center justify-center backdrop-blur-md">
        <div class="bg-dark-card p-8 rounded-3xl w-full max-w-md border border-dark-border shadow-2xl relative">
            <button onclick="closeModals()" class="absolute top-6 right-6 text-gray-500 hover:text-white transition"><i class="fa-solid fa-times text-xl"></i></button>
            
            <h2 class="text-2xl font-bold text-white mb-2 text-center" data-i18n="login_h">مرحباً بعودتك</h2>
            <p class="text-gray-500 text-sm text-center mb-8" data-i18n="login_s">سجل دخولك لإدارة مشروعك</p>
            
            <div class="space-y-4">
                <input type="email" id="login-email" class="w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white focus:border-brand-500 outline-none transition" placeholder="البريد الإلكتروني" dir="ltr">
                <input type="password" id="login-pass" class="w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white focus:border-brand-500 outline-none transition" placeholder="كلمة المرور" dir="ltr">
            </div>

            <button onclick="login()" id="login-btn" class="w-full bg-brand-600 hover:bg-brand-500 text-white py-4 rounded-xl font-bold mt-8 transition shadow-lg shadow-brand-500/20" data-i18n="btn_login_sub">تسجيل الدخول</button>
            
            <p class="text-center text-sm text-gray-500 mt-6 cursor-pointer hover:text-brand-500 transition" onclick="switchToRegister()" data-i18n="switch_reg">ليس لديك حساب؟ سجل مجاناً الآن</p>
        </div>
    </div>

    <div id="register-modal" class="fixed inset-0 bg-black/90 z-[100] hidden items-center justify-center backdrop-blur-md">
        <div class="bg-dark-card p-8 rounded-3xl w-full max-w-md border border-dark-border shadow-2xl relative">
            <button onclick="closeModals()" class="absolute top-6 right-6 text-gray-500 hover:text-white transition"><i class="fa-solid fa-times text-xl"></i></button>
            
            <div class="text-center mb-6">
                <span class="bg-brand-500/10 text-brand-500 text-xs font-bold px-3 py-1 rounded-full mb-3 inline-block">مجاني للأبد</span>
                <h2 class="text-2xl font-bold text-white" data-i18n="reg_h">إنشاء حساب جديد</h2>
            </div>
            
            <div class="space-y-3">
                <input type="text" id="reg-name" class="w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-500 outline-none" placeholder="اسم المشروع (مطعم، كافيه..)">
                <input type="text" id="reg-uid" class="w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-500 outline-none" placeholder="رابط المنيو (English)" dir="ltr">
                <input type="email" id="reg-email" class="w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-500 outline-none" placeholder="البريد الإلكتروني" dir="ltr">
                <input type="password" id="reg-pass" class="w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-500 outline-none" placeholder="كلمة المرور" dir="ltr">
            </div>

            <button onclick="register()" id="reg-submit" class="w-full bg-white text-black hover:bg-gray-200 py-4 rounded-xl font-bold mt-6 transition" data-i18n="btn_reg_sub">إنشاء الحساب</button>
            
            <p class="text-center text-sm text-gray-500 mt-6 cursor-pointer hover:text-brand-500 transition" onclick="switchToLogin()" data-i18n="switch_log">لديك حساب بالفعل؟ دخول</p>
        </div>
    </div>

    <script type="module">
        import { auth, signInWithEmailAndPassword, createUserWithEmailAndPassword, db, doc, setDoc, collection, query, where, getDocs, getDoc } from './firebase-config.js';

        // Toast Notification System
        window.showToast = (msg, type = 'error') => {
            const colors = {
                error: 'bg-red-500',
                success: 'bg-green-500',
                info: 'bg-blue-500'
            };
            
            const toast = document.createElement('div');
            toast.className = `fixed top-24 left-1/2 -translate-x-1/2 ${colors[type]} text-white px-6 py-4 rounded-2xl shadow-2xl z-[200] font-bold text-sm transition-all duration-300 transform scale-0`;
            toast.innerHTML = `<i class="fa-solid ${type === 'error' ? 'fa-circle-xmark' : 'fa-circle-check'} ml-2"></i>${msg}`;
            
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.replace('scale-0', 'scale-100'), 10);
            
            setTimeout(() => {
                toast.classList.replace('scale-100', 'scale-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Close modals on ESC or outside click
        document.addEventListener('keydown', (e) => {
            if(e.key === 'Escape') closeModals();
        });
        document.getElementById('login-modal').addEventListener('click', (e) => {
            if(e.target.id === 'login-modal') closeModals();
        });
        document.getElementById('register-modal').addEventListener('click', (e) => {
            if(e.target.id === 'register-modal') closeModals();
        });

        // Login Logic
        window.login = async () => {
            const email = document.getElementById('login-email').value.trim();
            const pass = document.getElementById('login-pass').value;
            const btn = document.getElementById('login-btn');
            
            if(!email || !pass) return showToast("الرجاء إدخال البريد وكلمة المرور");
            
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i>';
            btn.disabled = true;

            try {
                await signInWithEmailAndPassword(auth, email, pass);
                
                if(email.toLowerCase() === "nabilkarem@gmail.com") {
                    showToast("مرحباً Super Admin!", 'success');
                    setTimeout(() => window.location.href = "super_admin.html", 1000);
                } else {
                    const q = query(collection(db, "restaurants"), where("email", "==", email));
                    const snap = await getDocs(q);
                    
                    if(!snap.empty) {
                        const data = snap.docs[0].data();
                        
                        if(data.isActive === false) {
                            showToast("⛔ الحساب موقوف حالياً. تواصل مع الدعم الفني");
                            btn.innerText = "تسجيل الدخول";
                            btn.disabled = false;
                            return;
                        }
                        
                        showToast("تسجيل دخول ناجح!", 'success');
                        localStorage.setItem('admin_rest_id', snap.docs[0].id);
                        setTimeout(() => window.location.href = "client_dashboard.html", 1000);
                    } else {
                        showToast("لا يوجد حساب بهذا البريد");
                        btn.innerText = "تسجيل الدخول";
                        btn.disabled = false;
                    }
                }
            } catch(e) { 
                console.error(e);
                if(e.code === 'auth/wrong-password' || e.code === 'auth/user-not-found') {
                    showToast("بيانات الدخول غير صحيحة");
                } else if(e.code === 'auth/too-many-requests') {
                    showToast("محاولات كثيرة. انتظر قليلاً وحاول مرة أخرى");
                } else {
                    showToast("خطأ في الاتصال: " + e.message);
                }
                btn.innerText = "تسجيل الدخول";
                btn.disabled = false;
            }
        }

        // Register Logic (Free Plan)
        window.register = async () => {
            const name = document.getElementById('reg-name').value.trim();
            const uid = document.getElementById('reg-uid').value.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
            const email = document.getElementById('reg-email').value.trim();
            const pass = document.getElementById('reg-pass').value;
            const btn = document.getElementById('reg-submit');

            // Validation
            if(!name || !uid || !email || !pass) return showToast("جميع الحقول مطلوبة");
            if(uid.length < 3) return showToast("الرابط يجب أن يكون 3 أحرف على الأقل");
            if(!/^[a-z0-9-]+$/.test(uid)) return showToast("الرابط يجب أن يحتوي على أحرف إنجليزية وأرقام فقط");
            if(pass.length < 6) return showToast("كلمة المرور يجب أن تكون 6 أحرف على الأقل");
            
            // Reserved UIDs
            const reserved = ['admin', 'test', 'demo', 'api', 'root', 'super', 'system'];
            if(reserved.includes(uid)) return showToast("هذا الرابط محجوز من النظام");

            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> جاري الإنشاء...';
            btn.disabled = true;

            try {
                // Check if UID exists
                const uidCheck = await getDoc(doc(db, "restaurants", uid));
                if(uidCheck.exists()) {
                    showToast("هذا الرابط محجوز مسبقاً. جرب رابط آخر");
                    btn.innerText = "إنشاء الحساب";
                    btn.disabled = false;
                    return;
                }

                const cred = await createUserWithEmailAndPassword(auth, email, pass);
                await setDoc(doc(db, "restaurants", uid), {
                    ownerId: cred.user.uid,
                    name: name, 
                    email: email,
                    plan: 'free', 
                    isActive: true,
                    themeColor: "#0ea5e9", 
                    btnColor: "#0ea5e9",
                    textColor: "#ffffff",
                    logo: "images/logo.png",
                    products: [], 
                    globalAddons: [],
                    banners: [],
                    stats: { views: 0, orders: 0 },
                    createdAt: new Date().toISOString()
                });
                
                showToast("تم إنشاء الحساب بنجاح! جاري التحويل...", 'success');
                localStorage.setItem('admin_rest_id', uid);
                
                setTimeout(() => {
                    window.location.href = "client_dashboard.html";
                }, 1500);
            } catch(e) {
                console.error(e);
                if(e.code === 'auth/email-already-in-use') showToast("البريد مسجل مسبقاً");
                else if(e.code === 'auth/weak-password') showToast("كلمة المرور ضعيفة جداً (6 أحرف على الأقل)");
                else if(e.code === 'auth/invalid-email') showToast("البريد الإلكتروني غير صحيح");
                else showToast("خطأ: " + e.message);
                
                btn.innerText = "إنشاء الحساب";
                btn.disabled = false;
            }
        }
    </script>

    <script>
        // --- Translations ---
        const i18n = {
            ar: {
                nav_home: "الرئيسية", nav_features: "المميزات", nav_pricing: "الأسعار", btn_login: "دخول", btn_start: "ابدأ مجاناً",
                hero_badge: "تكنولوجيا 2026 للأعمال الذكية", hero_t1: "انقل مشروعك للمستقبل", hero_t2: "بأدوات إدارة متكاملة",
                hero_desc: "نظام سحابي شامل لا يقتصر على المطاعم فقط. سواء كنت تدير كافيهاً، فندقاً، صالون تجميل، أو متجراً للخدمات. نحن نقدم لك الواجهة الرقمية (QR)، نظام الطلبات، والتقارير في منصة واحدة سهلة الاستخدام.",
                btn_try_free: "جرب المنصة مجاناً", btn_demo: "جولة في النظام",
                feat_head: "صمم ليدعم نمو أعمالك", feat_sub: "نحن لا نقدم مجرد 'منيو إلكتروني'. نحن نقدم نظام تشغيل متكامل يغنيك عن المبرمجين والمصممين، ويعطيك الأدوات التي تستخدمها الشركات الكبرى.",
                f1_title: "هوية بصرية لا مثيل لها", f1_desc: "لا تقبل بالقوالب الجاهزة. خصص كل بكسل في المنيو ليطابق علامتك التجارية.",
                f2_title: "نظام طلبات واتساب الذكي", f2_desc: "حول المحادثات إلى مبيعات. رسائل واتساب منظمة وتلقائية بالطلبات.",
                f3_title: "QR Code ديناميكي", f3_desc: "اطبع مرة واحدة، وعدل المحتوى للأبد.",
                f4_title: "تحليلات الأداء", f4_desc: "بيانات دقيقة عن الزوار والمنتجات الأكثر طلباً.",
                pricing_head: "استثمار ذكي لمشروعك", pricing_sub: "شفافية تامة. لا رسوم خفية. ابدأ مجاناً.",
                plan_free: "الباقة المجانية", free_desc: "مثالية للتجربة والمشاريع الصغيرة.",
                plan_gold: "الباقة الذهبية", gold_desc: "الحل الأمثل للمطاعم النشطة.", badge_pop: "الأكثر مبيعاً",
                plan_vip: "باقة المؤسسات", vip_desc: "للسلاسل والفنادق الكبرى.",
                f_5: "5 منتجات", f_baseqr: "باركود أساسي", f_cp: "لوحة تحكم", f_color: "تخصيص الألوان",
                f_50: "50 منتج", f_branding: "تخصيص الهوية", f_wa_ord: "طلبات واتساب", f_supp: "دعم فني",
                f_inf: "منتجات بلا حدود", f_dom: "نطاق خاص", f_rem: "إزالة الشعار", f_man: "مدير حساب",
                btn_start_free: "إنشاء حساب مجاني", btn_sub_now: "اشترك الآن", btn_contact: "تواصل معنا",
                login_h: "مرحباً بعودتك", login_s: "سجل دخولك لإدارة مشروعك", btn_login_sub: "تسجيل الدخول", switch_reg: "ليس لديك حساب؟ سجل الآن",
                reg_h: "إنشاء حساب جديد", btn_reg_sub: "إنشاء الحساب", switch_log: "لديك حساب؟ دخول"
            },
            en: {
                nav_home: "Home", nav_features: "Features", nav_pricing: "Pricing", btn_login: "Login", btn_start: "Start Free",
                hero_badge: "2026 Business Technology", hero_t1: "Future-Proof Your Business", hero_t2: "With Smart Tools",
                hero_desc: "A complete cloud system not just for restaurants. Whether you run a cafe, hotel, salon, or service shop. We give you the digital interface (QR), order system, and reports in one easy platform.",
                btn_try_free: "Try For Free", btn_demo: "Explore Demo",
                feat_head: "Designed for Growth", feat_sub: "We offer more than just a digital menu. We offer a complete operating system that replaces developers and designers.",
                f1_title: "Unmatched Branding", f1_desc: "Don't settle for templates. Customize every pixel to match your brand identity.",
                f2_title: "Smart WhatsApp Orders", f2_desc: "Turn chats into sales. Organized automated WhatsApp order messages.",
                f3_title: "Dynamic QR Code", f3_desc: "Print once, update content forever.",
                f4_title: "Performance Analytics", f4_desc: "Accurate data on visitors and top products.",
                pricing_head: "Smart Investment", pricing_sub: "Total transparency. No hidden fees. Start free.",
                plan_free: "Free Plan", free_desc: "Perfect for trial and small projects.",
                plan_gold: "Gold Plan", gold_desc: "Best for active restaurants.", badge_pop: "Popular",
                plan_vip: "Enterprise Plan", vip_desc: "For chains and hotels.",
                f_5: "5 Products", f_baseqr: "Basic QR", f_cp: "Dashboard", f_color: "Custom Colors",
                f_50: "50 Products", f_branding: "Full Branding", f_wa_ord: "WhatsApp Orders", f_supp: "Support",
                f_inf: "Unlimited Products", f_dom: "Custom Domain", f_rem: "Remove Logo", f_man: "Account Manager",
                btn_start_free: "Create Free Account", btn_sub_now: "Subscribe Now", btn_contact: "Contact Us",
                login_h: "Welcome Back", login_s: "Login to manage your business", btn_login_sub: "Login", switch_reg: "No account? Register now",
                reg_h: "Create New Account", btn_reg_sub: "Create Account", switch_log: "Have account? Login"
            }
        };

        // --- Logic ---
        let currentLang = localStorage.getItem('lang') || 'ar';
        
        function applyLang() {
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(i18n[currentLang][key]) el.innerText = i18n[currentLang][key];
            });
            localStorage.setItem('lang', currentLang);
        }

        window.toggleLang = () => {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            applyLang();
        }

        // Theme
        if(localStorage.theme === 'light') document.documentElement.classList.remove('dark');
        
        window.toggleTheme = () => {
            document.documentElement.classList.toggle('dark');
            localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            document.getElementById('theme-icon').className = localStorage.theme === 'dark' ? "fa-solid fa-moon" : "fa-solid fa-sun";
        }

        // Modals
        const loginModal = document.getElementById('login-modal');
        const regModal = document.getElementById('register-modal');

        window.openLoginModal = () => { closeModals(); loginModal.classList.remove('hidden'); }
        window.openRegisterModal = () => { closeModals(); regModal.classList.remove('hidden'); }
        window.switchToRegister = () => { closeModals(); regModal.classList.remove('hidden'); }
        window.switchToLogin = () => { closeModals(); loginModal.classList.remove('hidden'); }
        window.closeModals = () => { loginModal.classList.add('hidden'); regModal.classList.add('hidden'); }

        // Start
        applyLang();
        document.getElementById('theme-icon').className = localStorage.theme === 'light' ? "fa-solid fa-sun" : "fa-solid fa-moon";
    </script>
</body>
</html>
